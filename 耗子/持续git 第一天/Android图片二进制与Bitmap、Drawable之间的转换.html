<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/276152; Windows/6.3.9600;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1334"/>

<div>
<span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; font-size: 19px;"><font face="Adobe 楷体 Std R"><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">Java代码  </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">public byte[] getBitmapByte(Bitmap bitmap){   </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">   ByteArrayOutputStream out = new ByteArrayOutputStream();   </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">   bitmap.compress(Bitmap.CompressFormat.JPEG, 100, out);   </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">   try {   </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">       out.flush();   </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">       out.close();   </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">   } catch (IOException e) {   </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">       e.printStackTrace();   </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">   }   </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">   return out.toByteArray();   </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">}   </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">public Bitmap getBitmapFromByte(byte[] temp){   </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">   if(temp != null){   </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">       Bitmap bitmap = BitmapFactory.decodeByteArray(temp, 0, temp.length);   </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">       return bitmap;   </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">   }else{   </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">       return null;   </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">   }   </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">}  </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">public byte[] getBitmapByte(Bitmap bitmap){</span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">ByteArrayOutputStream out = new ByteArrayOutputStream();</span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">bitmap.compress(Bitmap.CompressFormat.JPEG, 100, out);</span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">try {</span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">out.flush();</span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">out.close();</span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">} catch (IOException e) {</span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">e.printStackTrace();</span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">}</span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">return out.toByteArray();</span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">}</span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">public Bitmap getBitmapFromByte(byte[] temp){</span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">if(temp != null){</span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">Bitmap bitmap = BitmapFactory.decodeByteArray(temp, 0, temp.length);</span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">return bitmap;</span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">}else{</span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">return null;</span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">}</span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">} </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">Java代码  </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">public static Bitmap drawableToBitmap(Drawable drawable){     </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">           int width = drawable.getIntrinsicWidth();     </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">           int height = drawable.getIntrinsicHeight();     </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">           Bitmap bitmap = Bitmap.createBitmap(width, height,     </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">                   drawable.getOpacity() != PixelFormat.OPAQUE ? Bitmap.Config.ARGB_8888     </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">                           : Bitmap.Config.RGB_565);     </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">           Canvas canvas = new Canvas(bitmap);     </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">           drawable.setBounds(0,0,width,height);     </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">           drawable.draw(canvas);     </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">           return bitmap;     </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">       }    </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">public static Bitmap drawableToBitmap(Drawable drawable){  </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">           int width = drawable.getIntrinsicWidth();  </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">           int height = drawable.getIntrinsicHeight();  </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">           Bitmap bitmap = Bitmap.createBitmap(width, height,  </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">                   drawable.getOpacity() != PixelFormat.OPAQUE ? Bitmap.Config.ARGB_8888  </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">                           : Bitmap.Config.RGB_565);  </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">           Canvas canvas = new Canvas(bitmap);  </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">           drawable.setBounds(0,0,width,height);  </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">           drawable.draw(canvas);  </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">           return bitmap;  </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">       }   </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">Java代码  </span><br style="margin: 0px; padding: 0px; line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);"/><span style="line-height: 21px; text-align: left; widows: 1; background-color: rgb(255, 255, 255);">Drawable drawable = new FastBitmapDrawable(bitmap); </span></font></span>
</div></body></html> 